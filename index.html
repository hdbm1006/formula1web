<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é¦–é¡µ</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- æ·»åŠ è§†é¢‘å…ƒç´ ä½œä¸ºæ•´ç«™èƒŒæ™¯ -->
    <div class="background-video-container">
        <video class="background-video" autoplay loop muted>
            <source src="video/F1fold.mp4" type="video/mp4">
            æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒè§†é¢‘æ ‡ç­¾ã€‚
        </video>
    </div>
    
    <nav class="navbar">
        <!-- æ·»åŠ Logoå’Œç½‘ç«™åç§° -->
        <div class="brand-container">
            <img src="images/10001.svg" alt="F1 Logo">
            <span class="site-title">ï½œç²‰ä¸ç«™</span>
        </div>
        
        <ul class="nav-list" id="navList">
            <li><a href="circuit.html">èµ›é“ä¿¡æ¯</a></li>
            <li><a href="team.html">è½¦é˜Ÿä¿¡æ¯</a></li>
            <li><a href="#">æ¯”èµ›ä¿¡æ¯</a></li>
            <li style="position: relative;" id="championMenu">
                <a href="#">å†å¹´å† å†›</a>
                <ul class="dropdown" id="championDropdown">
                </ul>
            </li>
            <div class="slider" id="slider"></div>
        </ul>
    </nav>
    
    <!-- æ–¹æ ¼æ¡å›ºå®šåœ¨é¡¶æ ä¸‹æ–¹ -->
    <div class="checkered-bar"></div>
    
    <!-- æ·»åŠ F1èµ›è½¦å›¾ç‰‡å±•ç¤ºåŒºåŸŸ -->
    <div class="pixel-cars-container">
        <div class="pixel-car">
            <img src="images/æ³•æ‹‰åˆ©.png" alt="åƒç´ é£æ³•æ‹‰åˆ©F1èµ›è½¦" class="no-hover ferrari ferrari-left">
        </div>
        <div class="pixel-car">
            <img src="images/è¿ˆå‡¯è½®é€æ˜èƒŒæ™¯.jpg" alt="åƒç´ é£è¿ˆå‡¯è½®F1èµ›è½¦" class="mclaren offset-down">
        </div>
    </div>
    
    <!-- å…¨å±åŒºåŸŸ - å°†æ¯”èµ›ä¿¡æ¯å’Œç§¯åˆ†æ¦œæ•´åˆåˆ°åŸlogoå’Œæ–‡å­—ä½ç½® -->
    <div class="fullscreen-section">
        <div class="racing-line left"></div>
        <div class="racing-line right"></div>
        
        <!-- å…¨å±å†…å®¹å®¹å™¨ -->
        <div class="fullscreen-content">
            <!-- æ¯”èµ›ä¿¡æ¯ç»„ä»¶ -->
            <div class="race-info-bar">
                <div class="race-info-content">
                    <div class="race-header">
                        <div class="race-name">æ—¥æœ¬å¤§å¥–èµ›</div>
                        <div class="race-details">
                            <span class="race-circuit">é“ƒé¹¿èµ›é“</span>
                            <span class="race-date">2024å¹´9æœˆ22æ—¥</span>
                        </div>
                    </div>
                    
                    <div class="race-schedule">
                        <div class="schedule-item">
                            <div class="session-content">
                                <div class="session-name">ç»ƒä¹ èµ› 1</div>
                                <div class="session-time">
                                    <span class="date">9æœˆ20æ—¥ å‘¨äº”</span>
                                    <span class="time local-time">ä¸Šåˆ 11:30-12:30</span>
                                    <span class="user-time" id="fp1-user-time">è®¡ç®—ä¸­...</span>
                                </div>
                            </div>
                            <div class="countdown" id="fp1-countdown">
                                <span id="fp1-days">--</span>å¤©
                                <span id="fp1-hours">--</span>æ—¶
                                <span id="fp1-minutes">--</span>åˆ†
                                <span id="fp1-seconds">--</span>ç§’
                            </div>
                        </div>
                        <div class="schedule-item">
                            <div class="session-content">
                                <div class="session-name">ç»ƒä¹ èµ› 2</div>
                                <div class="session-time">
                                    <span class="date">9æœˆ20æ—¥ å‘¨äº”</span>
                                    <span class="time local-time">ä¸‹åˆ 15:00-16:00</span>
                                    <span class="user-time" id="fp2-user-time">è®¡ç®—ä¸­...</span>
                                </div>
                            </div>
                            <div class="countdown" id="fp2-countdown">
                                <span id="fp2-days">--</span>å¤©
                                <span id="fp2-hours">--</span>æ—¶
                                <span id="fp2-minutes">--</span>åˆ†
                                <span id="fp2-seconds">--</span>ç§’
                            </div>
                        </div>
                        <div class="schedule-item">
                            <div class="session-content">
                                <div class="session-name">ç»ƒä¹ èµ› 3</div>
                                <div class="session-time">
                                    <span class="date">9æœˆ21æ—¥ å‘¨å…­</span>
                                    <span class="time local-time">ä¸Šåˆ 10:30-11:30</span>
                                    <span class="user-time" id="fp3-user-time">è®¡ç®—ä¸­...</span>
                                </div>
                            </div>
                            <div class="countdown" id="fp3-countdown">
                                <span id="fp3-days">--</span>å¤©
                                <span id="fp3-hours">--</span>æ—¶
                                <span id="fp3-minutes">--</span>åˆ†
                                <span id="fp3-seconds">--</span>ç§’
                            </div>
                        </div>
                        <div class="schedule-item highlight">
                            <div class="session-content">
                                <div class="session-name">æ’ä½èµ›</div>
                                <div class="session-time">
                                    <span class="date">9æœˆ21æ—¥ å‘¨å…­</span>
                                    <span class="time local-time">ä¸‹åˆ 14:00-15:00</span>
                                    <span class="user-time" id="quali-user-time">è®¡ç®—ä¸­...</span>
                                </div>
                            </div>
                            <div class="countdown" id="quali-countdown">
                                <span id="quali-days">--</span>å¤©
                                <span id="quali-hours">--</span>æ—¶
                                <span id="quali-minutes">--</span>åˆ†
                                <span id="quali-seconds">--</span>ç§’
                            </div>
                        </div>
                        <div class="schedule-item highlight">
                            <div class="session-content">
                                <div class="session-name">æ­£èµ›</div>
                                <div class="session-time">
                                    <span class="date">9æœˆ22æ—¥ å‘¨æ—¥</span>
                                    <span class="time local-time">ä¸Šåˆ 06:00</span>
                                    <span class="user-time" id="race-user-time">è®¡ç®—ä¸­...</span>
                                </div>
                            </div>
                            <div class="countdown" id="race-countdown">
                                <span id="race-days">--</span>å¤©
                                <span id="race-hours">--</span>æ—¶
                                <span id="race-minutes">--</span>åˆ†
                                <span id="race-seconds">--</span>ç§’
                            </div>
                        </div>
                    </div>
                    
                    <div class="race-footer">
                        <div class="timezone-info">
                            <span>å½“åœ°æ—¶é—´ (UTC+9)</span>
                        </div>
                        <div class="race-action">
                            <a href="#" class="race-details-btn">å®Œæ•´èµ›ç¨‹</a>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- è½¦æ‰‹ç§¯åˆ†æ¦œ -->
            <div class="standings-section">
                <h2 class="season-title">2025 èµ›å­£</h2>
                
                <div class="standings-nav">
                    <div class="nav-item active">å¸æœº</div>
                    <div class="nav-item">å›¢é˜Ÿ</div>
                </div>
                
                <div class="driver-standings">
                    <!-- ç§¯åˆ†æ¦œå¡ç‰‡å®¹å™¨ -->
                    <div class="standings-cards">
                        <!-- ç¬¬äºŒå -->
                        <div class="driver-card second">
                            <div class="rank">2<sup>ND</sup></div>
                            <div class="driver-name">å…°å¤šÂ·è¯ºé‡Œæ–¯</div>
                            <div class="team-name">è¿ˆå‡¯ä¼¦</div>
                            <div class="flag uk-flag"></div>
                            <div class="driver-img">
                                <img src="images/drivers/è¯ºé‡Œæ–¯.webp" alt="å…°å¤šÂ·è¯ºé‡Œæ–¯">
                            </div>
                            <div class="points">226<span class="points-label">PTS</span></div>
                        </div>
                        
                        <!-- ç¬¬ä¸€å -->
                        <div class="driver-card first">
                            <div class="rank">1<sup>ST</sup></div>
                            <div class="driver-name">å¥¥æ–¯å¡Â·çš®äºšæ–¯ç‰¹é‡Œ</div>
                            <div class="team-name">è¿ˆå‡¯ä¼¦</div>
                            <div class="flag aus-flag"></div>
                            <div class="driver-img">
                                <img src="images/drivers/çš®äºšæ–¯ç‰¹é‡Œ.webp" alt="å¥¥æ–¯å¡Â·çš®äºšæ–¯ç‰¹é‡Œ">
                            </div>
                            <div class="points">234<span class="points-label">PTS</span></div>
                        </div>
                        
                        <!-- ç¬¬ä¸‰å -->
                        <div class="driver-card third">
                            <div class="rank">3<sup>RD</sup></div>
                            <div class="driver-name">é©¬å…‹æ–¯Â·ç»´æ–¯å¡”æ½˜</div>
                            <div class="team-name">çº¢ç‰›è½¦é˜Ÿ</div>
                            <div class="flag nl-flag"></div>
                            <div class="driver-img">
                                <img src="images/drivers/ç»´æ–¯å¡”æ½˜.webp" alt="é©¬å…‹æ–¯Â·ç»´æ–¯å¡”æ½˜">
                            </div>
                            <div class="points">165<span class="points-label">PTS</span></div>
                        </div>
                    </div>
                    
                    <!-- ç§¯åˆ†æ¦œè¡¨æ ¼ -->
                    <div class="standings-table">
                        <table>
                            <thead>
                                <tr>
                                    <th class="position">ä½ç½®</th>
                                    <th class="driver">å¸æœº</th>
                                    <th class="nationality">å›½ç±</th>
                                    <th class="team">å›¢é˜Ÿ</th>
                                    <th class="points">ç‚¹æ•°</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="position">1</td>
                                    <td class="driver"><span class="mclaren-color dot"></span> å¥¥æ–¯å¡Â·çš®äºšæ–¯ç‰¹é‡Œ</td>
                                    <td class="nationality"><span class="flag-mini aus"></span> æ¾³å¤§åˆ©äºš</td>
                                    <td class="team"><span class="mclaren-icon"></span> è¿ˆå‡¯ä¼¦</td>
                                    <td class="points">234</td>
                                </tr>
                                <tr>
                                    <td class="position">2</td>
                                    <td class="driver"><span class="mclaren-color dot"></span> å…°å¤šÂ·è¯ºé‡Œæ–¯</td>
                                    <td class="nationality"><span class="flag-mini uk"></span> è‹±å›½</td>
                                    <td class="team"><span class="mclaren-icon"></span> è¿ˆå‡¯ä¼¦</td>
                                    <td class="points">226</td>
                                </tr>
                                <tr>
                                    <td class="position">3</td>
                                    <td class="driver"><span class="redbull-color dot"></span> é©¬å…‹æ–¯Â·ç»´æ–¯å¡”æ½˜</td>
                                    <td class="nationality"><span class="flag-mini nl"></span> è·å…°</td>
                                    <td class="team"><span class="redbull-icon"></span> çº¢ç‰›è½¦é˜Ÿ</td>
                                    <td class="points">165</td>
                                </tr>
                                <tr>
                                    <td class="position">4</td>
                                    <td class="driver"><span class="ferrari-color dot"></span> æŸ¥å°”æ–¯Â·å‹’å…‹è±å°”</td>
                                    <td class="nationality"><span class="flag-mini mc"></span> æ‘©çº³å“¥</td>
                                    <td class="team"><span class="ferrari-icon"></span> æ³•æ‹‰åˆ©</td>
                                    <td class="points">157</td>
                                </tr>
                                <tr>
                                    <td class="position">5</td>
                                    <td class="driver"><span class="mercedes-color dot"></span> åˆ˜æ˜“æ–¯Â·æ±‰å¯†å°”é¡¿</td>
                                    <td class="nationality"><span class="flag-mini uk"></span> è‹±å›½</td>
                                    <td class="team"><span class="mercedes-icon"></span> æ¢…èµ›å¾·æ–¯</td>
                                    <td class="points">143</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- ç¬¬äºŒè§†å›¾åŒºåŸŸå¼€å§‹ -->
    <div class="second-view">
        <div class="champion-info" id="championInfo">
            <h2 id="championYear"></h2>
            <table>
                <tr><th>è½¦æ‰‹</th><td id="championDriver"></td></tr>
                <tr><th>å›½ç±</th><td id="championNation"></td></tr>
                <tr><th>è½¦é˜Ÿ</th><td id="championTeam"></td></tr>
            </table>
        </div>
    </div> <!-- ç»“æŸsecond-view -->
    <div class="champion-overlay" id="championOverlay">
        <div class="champion-overlay-content">
            <button class="close-btn" id="closeOverlay" title="å…³é—­">Ã—</button>
            <h2 id="overlayYear"></h2>
            <table>
                <tr><th>è½¦æ‰‹</th><td id="overlayDriver"></td></tr>
                <tr><th>å›½ç±</th><td id="overlayNation"></td></tr>
                <tr><th>è½¦é˜Ÿ</th><td id="overlayTeam"></td></tr>
            </table>
        </div>
    </div>
    <div class="sidebar" id="sidebar">
        <div class="sidebar-content" id="sidebarContent">
            <ul>
                <li class="sidebar-item">ğŸ® å°æ¸¸æˆ</li>
            </ul>
        </div>
    </div>
    <!-- å¼•å…¥è§†å·®æ»šåŠ¨è„šæœ¬ -->
    <script src="parallax.js"></script>
    <!-- å¼•å…¥èµ›ç¨‹è·å–è„šæœ¬ -->
    <script src="raceScheduleFetcher.js"></script>
    <script>
        const navList = document.getElementById('navList');
        const slider = document.getElementById('slider');
        const navLinks = navList.querySelectorAll('a');

        navList.addEventListener('mousemove', (e) => {
            const target = e.target;
            if (target.tagName === 'A') {
                const rect = target.getBoundingClientRect();
                const navRect = navList.getBoundingClientRect();
                slider.style.width = rect.width + 'px';
                slider.style.left = (rect.left - navRect.left) + 'px';
                slider.style.opacity = 1;
            }
        });
        navList.addEventListener('mouseleave', () => {
            slider.style.width = 0;
            slider.style.opacity = 0;
        });

        // ä¸‹æ‹‰èœå•æ˜¾ç¤º/éšè—ï¼ˆå»¶è¿Ÿéšè—ï¼‰
        let hideDropdownTimer = null;
        const championMenu = document.getElementById('championMenu');
        const championDropdown = document.getElementById('championDropdown');
        championMenu.addEventListener('mouseenter', () => {
            if (hideDropdownTimer) {
                clearTimeout(hideDropdownTimer);
                hideDropdownTimer = null;
            }
            championDropdown.style.display = 'block';
        });
        championMenu.addEventListener('mouseleave', () => {
            hideDropdownTimer = setTimeout(() => {
                championDropdown.style.display = 'none';
            }, 300); // 300mså»¶è¿Ÿ
        });
        championDropdown.addEventListener('mouseenter', () => {
            if (hideDropdownTimer) {
                clearTimeout(hideDropdownTimer);
                hideDropdownTimer = null;
            }
            championDropdown.style.display = 'block';
        });
        championDropdown.addEventListener('mouseleave', () => {
            hideDropdownTimer = setTimeout(() => {
                championDropdown.style.display = 'none';
            }, 300);
        });

        // åŠ¨æ€ç”Ÿæˆ1980-2025å¹´èœå•é¡¹
        const dropdown = document.getElementById('championDropdown');
        for(let year=2025; year>=1980; year--){
            const li = document.createElement('li');
            const a = document.createElement('a');
            a.href = '#';
            a.textContent = year + 'å¹´';
            li.appendChild(a);
            dropdown.appendChild(li);
        }

        // å†å¹´å† å†›æ•°æ®
        const championData = {
            2024: {driver: 'å°ç»´æ–¯å¡”æ½˜ï¼ˆMax Verstappenï¼‰', nation: 'è·å…°', team: 'çº¢ç‰›'},
            2023: {driver: 'å°ç»´æ–¯å¡”æ½˜ï¼ˆMax Verstappenï¼‰', nation: 'è·å…°', team: 'çº¢ç‰›'},
            2022: {driver: 'å°ç»´æ–¯å¡”æ½˜ï¼ˆMax Verstappenï¼‰', nation: 'è·å…°', team: 'çº¢ç‰›'},
            2021: {driver: 'å°ç»´æ–¯å¡”æ½˜ï¼ˆMax Verstappenï¼‰', nation: 'è·å…°', team: 'çº¢ç‰›'},
            2020: {driver: 'æ±‰å¯†å°”é¡¿ï¼ˆLewis Hamiltonï¼‰', nation: 'è‹±å›½', team: 'æ¢…èµ›å¾·æ–¯å¥”é©°'},
            2019: {driver: 'æ±‰å¯†å°”é¡¿ï¼ˆLewis Hamiltonï¼‰', nation: 'è‹±å›½', team: 'æ¢…èµ›å¾·æ–¯å¥”é©°'},
            2018: {driver: 'æ±‰å¯†å°”é¡¿ï¼ˆLewis Hamiltonï¼‰', nation: 'è‹±å›½', team: 'æ¢…èµ›å¾·æ–¯å¥”é©°'},
            2017: {driver: 'æ±‰å¯†å°”é¡¿ï¼ˆLewis Hamiltonï¼‰', nation: 'è‹±å›½', team: 'æ¢…èµ›å¾·æ–¯å¥”é©°'},
            2016: {driver: 'ç½—æ–¯åšæ ¼ï¼ˆNico Rosbergï¼‰', nation: 'å¾·å›½', team: 'æ¢…èµ›å¾·æ–¯å¥”é©°'},
            2015: {driver: 'æ±‰å¯†å°”é¡¿ï¼ˆLewis Hamiltonï¼‰', nation: 'è‹±å›½', team: 'æ¢…èµ›å¾·æ–¯å¥”é©°'},
            2014: {driver: 'æ±‰å¯†å°”é¡¿ï¼ˆLewis Hamiltonï¼‰', nation: 'è‹±å›½', team: 'æ¢…èµ›å¾·æ–¯å¥”é©°'},
            2013: {driver: 'ç»´ç‰¹å°”ï¼ˆSebastian Vettelï¼‰', nation: 'å¾·å›½', team: 'çº¢ç‰›-é›·è¯º'},
            2012: {driver: 'ç»´ç‰¹å°”ï¼ˆSebastian Vettelï¼‰', nation: 'å¾·å›½', team: 'çº¢ç‰›-é›·è¯º'},
            2011: {driver: 'ç»´ç‰¹å°”ï¼ˆSebastian Vettelï¼‰', nation: 'å¾·å›½', team: 'çº¢ç‰›-é›·è¯º'},
            2010: {driver: 'ç»´ç‰¹å°”ï¼ˆSebastian Vettelï¼‰', nation: 'å¾·å›½', team: 'çº¢ç‰›-é›·è¯º'},
            2009: {driver: 'å·´é¡¿ï¼ˆJenson Buttonï¼‰', nation: 'è‹±å›½', team: 'å¸ƒæœ—GP'},
            2008: {driver: 'æ±‰å¯†å°”é¡¿ï¼ˆLewis Hamiltonï¼‰', nation: 'è‹±å›½', team: 'è¿ˆå‡¯è½®'},
            2007: {driver: 'è±ç§‘å®ï¼ˆKimi Raikkonenï¼‰', nation: 'èŠ¬å…°', team: 'æ³•æ‹‰åˆ©'},
            2006: {driver: 'é˜¿éš†ç´¢ï¼ˆFernando Alonsoï¼‰', nation: 'è¥¿ç­ç‰™', team: 'é›·è¯º'},
            2005: {driver: 'é˜¿éš†ç´¢ï¼ˆFernando Alonsoï¼‰', nation: 'è¥¿ç­ç‰™', team: 'é›·è¯º'},
            2004: {driver: 'èˆ’é©¬èµ«ï¼ˆMichael Schumacherï¼‰', nation: 'å¾·å›½', team: 'æ³•æ‹‰åˆ©'},
            2003: {driver: 'èˆ’é©¬èµ«ï¼ˆMichael Schumacherï¼‰', nation: 'å¾·å›½', team: 'æ³•æ‹‰åˆ©'},
            2002: {driver: 'èˆ’é©¬èµ«ï¼ˆMichael Schumacherï¼‰', nation: 'å¾·å›½', team: 'æ³•æ‹‰åˆ©'},
            2001: {driver: 'èˆ’é©¬èµ«ï¼ˆMichael Schumacherï¼‰', nation: 'å¾·å›½', team: 'æ³•æ‹‰åˆ©'},
            2000: {driver: 'èˆ’é©¬èµ«ï¼ˆMichael Schumacherï¼‰', nation: 'å¾·å›½', team: 'æ³•æ‹‰åˆ©'},
            1999: {driver: 'å“ˆåŸºå®ï¼ˆMika Hakkinenï¼‰', nation: 'èŠ¬å…°', team: 'è¿ˆå‡¯è½®'},
            1998: {driver: 'å“ˆåŸºå®ï¼ˆMika Hakkinenï¼‰', nation: 'èŠ¬å…°', team: 'è¿ˆå‡¯è½®'},
            1997: {driver: 'ç»´ä¼¦çº½å¤«ï¼ˆJacques Villeneuveï¼‰', nation: 'åŠ æ‹¿å¤§', team: 'å¨å»‰å§†æ–¯'},
            1996: {driver: 'D-å¸Œå°”ï¼ˆDamon Hillï¼‰', nation: 'è‹±å›½', team: 'å¨å»‰å§†æ–¯'},
            1995: {driver: 'èˆ’é©¬èµ«ï¼ˆMichael Schumacherï¼‰', nation: 'å¾·å›½', team: 'è´çº³é€š'},
            1994: {driver: 'èˆ’é©¬èµ«ï¼ˆMichael Schumacherï¼‰', nation: 'å¾·å›½', team: 'è´çº³é€š'},
            1993: {driver: 'æ™®ç½—æ–¯ç‰¹ï¼ˆAlain Prostï¼‰', nation: 'æ³•å›½', team: 'å¨å»‰å§†æ–¯'},
            1992: {driver: 'æ›¼å¡å°”ï¼ˆNigel Mansellï¼‰', nation: 'è‹±å›½', team: 'å¨å»‰å§†æ–¯'},
            1991: {driver: 'å¡çº³ï¼ˆAyrton Sennaï¼‰', nation: 'å·´è¥¿', team: 'è¿ˆå‡¯è½®'},
            1990: {driver: 'å¡çº³ï¼ˆAyrton Sennaï¼‰', nation: 'å·´è¥¿', team: 'è¿ˆå‡¯è½®'},
            1989: {driver: 'æ™®ç½—æ–¯ç‰¹ï¼ˆAlain Prostï¼‰', nation: 'æ³•å›½', team: 'è¿ˆå‡¯è½®'},
            1988: {driver: 'å¡çº³ï¼ˆAyrton Sennaï¼‰', nation: 'å·´è¥¿', team: 'è¿ˆå‡¯è½®'},
            1987: {driver: 'çš®å¥ç‰¹ï¼ˆNelson Piquetï¼‰', nation: 'å·´è¥¿', team: 'å¨å»‰å§†æ–¯'},
            1986: {driver: 'æ™®ç½—æ–¯ç‰¹ï¼ˆAlain Prostï¼‰', nation: 'æ³•å›½', team: 'è¿ˆå‡¯è½®'},
            1985: {driver: 'æ™®ç½—æ–¯ç‰¹ï¼ˆAlain Prostï¼‰', nation: 'æ³•å›½', team: 'è¿ˆå‡¯è½®'},
            1984: {driver: 'åŠ³è¾¾ï¼ˆNiki Laudaï¼‰', nation: 'å¥¥åœ°åˆ©', team: 'è¿ˆå‡¯è½®'},
            1983: {driver: 'çš®å¥ç‰¹ï¼ˆNelson Piquetï¼‰', nation: 'å·´è¥¿', team: 'å¸ƒæ‹‰æ±‰å§†'},
            1982: {driver: 'ç½—æ–¯åšæ ¼ï¼ˆKeke Rosbergï¼‰', nation: 'èŠ¬å…°', team: 'å¨å»‰å§†æ–¯'},
            1981: {driver: 'çš®å¥ç‰¹ï¼ˆNelson Piquetï¼‰', nation: 'å·´è¥¿', team: 'å¸ƒæ‹‰æ±‰å§†'},
            1980: {driver: 'ç¼æ–¯ï¼ˆAlan Jonesï¼‰', nation: 'æ¾³å¤§åˆ©äºš', team: 'å¨å»‰å§†æ–¯'}
        };
        // ç»‘å®šå¹´ä»½ç‚¹å‡»äº‹ä»¶ï¼Œè·³è½¬åˆ°champion.html
        dropdown.addEventListener('click', function(e) {
            if(e.target.tagName === 'A') {
                const year = e.target.textContent.replace('å¹´','');
                window.location.href = `champion.html?year=${year}`;
            }
        });

        // å³ä¾§ä»»åŠ¡æ å±•å¼€/æ”¶èµ·ï¼ˆæ”¹ä¸ºæ‚¬æµ®è‡ªåŠ¨å±•å¼€ï¼Œæ— éœ€ç‚¹å‡»ï¼‰
        // ç§»é™¤ç‚¹å‡»äº‹ä»¶
        document.querySelector('.sidebar-item').onclick = function() {
            window.location.href = 'game.html';
        };
        
        // å€’è®¡æ—¶åŠŸèƒ½ä¸æ—¶é—´æ˜¾ç¤º
        function updateCountdown() {
            // å®šä¹‰æ‰€æœ‰èµ›äº‹çš„æ—¶é—´ï¼ˆæ—¥æœ¬æ—¶åŒºUTC+9ï¼‰
            const eventTimes = {
                fp1: new Date('2024-09-20T11:30:00+09:00'), // ç»ƒä¹ èµ›1
                fp2: new Date('2024-09-20T15:00:00+09:00'), // ç»ƒä¹ èµ›2
                fp3: new Date('2024-09-21T10:30:00+09:00'), // ç»ƒä¹ èµ›3
                quali: new Date('2024-09-21T14:00:00+09:00'), // æ’ä½èµ›
                race: new Date('2024-09-22T06:00:00+09:00')  // æ­£èµ›
            };
            
            const now = new Date();
            
            // æ›´æ–°æ‰€æœ‰èµ›äº‹çš„å€’è®¡æ—¶
            for (const [eventId, eventTime] of Object.entries(eventTimes)) {
                // è®¡ç®—å€’è®¡æ—¶
                const diff = eventTime - now;
                
                // å¦‚æœæ¯”èµ›å·²ç»å¼€å§‹ï¼Œæ˜¾ç¤º00:00:00:00
                if (diff <= 0) {
                    document.getElementById(`${eventId}-days`).textContent = '00';
                    document.getElementById(`${eventId}-hours`).textContent = '00';
                    document.getElementById(`${eventId}-minutes`).textContent = '00';
                    document.getElementById(`${eventId}-seconds`).textContent = '00';
                    continue;
                }
                
                // è®¡ç®—å‰©ä½™æ—¶é—´
                const days = Math.floor(diff / (1000 * 60 * 60 * 24));
                const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((diff % (1000 * 60)) / 1000);
                
                // æ›´æ–°æ˜¾ç¤º
                document.getElementById(`${eventId}-days`).textContent = days < 10 ? '0' + days : days;
                document.getElementById(`${eventId}-hours`).textContent = hours < 10 ? '0' + hours : hours;
                document.getElementById(`${eventId}-minutes`).textContent = minutes < 10 ? '0' + minutes : minutes;
                document.getElementById(`${eventId}-seconds`).textContent = seconds < 10 ? '0' + seconds : seconds;
            }
        }
        
        // æ˜¾ç¤ºç”¨æˆ·æ‰€åœ¨åœ°æ—¶åŒºçš„æ¯”èµ›æ—¶é—´
        function displayUserLocalTime() {
            // å®šä¹‰æ‰€æœ‰èµ›äº‹çš„æ—¶é—´ï¼ˆæ—¥æœ¬æ—¶åŒºUTC+9ï¼‰
            const eventTimes = {
                fp1: new Date('2024-09-20T11:30:00+09:00'), // ç»ƒä¹ èµ›1
                fp2: new Date('2024-09-20T15:00:00+09:00'), // ç»ƒä¹ èµ›2
                fp3: new Date('2024-09-21T10:30:00+09:00'), // ç»ƒä¹ èµ›3
                quali: new Date('2024-09-21T14:00:00+09:00'), // æ’ä½èµ›
                race: new Date('2024-09-22T06:00:00+09:00')  // æ­£èµ›
            };
            
            // è·å–ç”¨æˆ·æ—¶åŒºä¿¡æ¯
            const userTimeZone = Intl.DateTimeFormat().resolvedOptions().timeZone;
            
            // éå†æ‰€æœ‰èµ›äº‹ï¼Œè®¡ç®—å¹¶æ˜¾ç¤ºç”¨æˆ·æ—¶åŒºçš„æ—¶é—´
            for (const [eventId, eventTime] of Object.entries(eventTimes)) {
                const elementId = `${eventId}-user-time`;
                
                // è½¬æ¢ä¸ºç”¨æˆ·æœ¬åœ°æ—¶é—´
                const userEventTime = new Date(eventTime);
                
                // æ ¼å¼åŒ–æ—¶é—´æ˜¾ç¤º
                const hours = userEventTime.getHours();
                const minutes = userEventTime.getMinutes();
                const amPm = hours >= 12 ? 'ä¸‹åˆ' : 'ä¸Šåˆ';
                const formattedHours = hours % 12 || 12; // è½¬æ¢ä¸º12å°æ—¶åˆ¶
                const formattedMinutes = minutes < 10 ? '0' + minutes : minutes;
                
                // è®¡ç®—æ—¶æ®µç»“æŸæ—¶é—´ï¼ˆé™¤äº†æ­£èµ›å¤–ï¼Œå…¶ä»–éƒ½æ˜¯1å°æ—¶ï¼‰
                let endTimeText = '';
                if (eventId !== 'race') {
                    const endTime = new Date(userEventTime);
                    endTime.setHours(endTime.getHours() + 1);
                    
                    const endHours = endTime.getHours();
                    const endMinutes = endTime.getMinutes();
                    const endAmPm = endHours >= 12 ? 'ä¸‹åˆ' : 'ä¸Šåˆ';
                    const formattedEndHours = endHours % 12 || 12;
                    const formattedEndMinutes = endMinutes < 10 ? '0' + endMinutes : endMinutes;
                    
                    endTimeText = `-${formattedEndHours}:${formattedEndMinutes}`;
                }
                
                // æ›´æ–°æ˜¾ç¤º
                const element = document.getElementById(elementId);
                if (element) {
                    element.textContent = `æ‚¨çš„æ—¶é—´: ${amPm} ${formattedHours}:${formattedMinutes}${endTimeText}`;
                }
            }
        }
        
        // åˆå§‹æ›´æ–°ä¸€æ¬¡
        updateCountdown();
        displayUserLocalTime();
        
        // æ¯ç§’æ›´æ–°å€’è®¡æ—¶
        setInterval(updateCountdown, 1000);
        
        // å¤„ç†ç§¯åˆ†æ¦œçš„å¸æœº/å›¢é˜Ÿåˆ‡æ¢åŠŸèƒ½
        const navItems = document.querySelectorAll('.standings-nav .nav-item');
        navItems.forEach(item => {
            item.addEventListener('click', function() {
                // ç§»é™¤æ‰€æœ‰activeç±»
                navItems.forEach(i => i.classList.remove('active'));
                // ç»™å½“å‰ç‚¹å‡»çš„æ·»åŠ activeç±»
                this.classList.add('active');
                
                // è¿™é‡Œå¯ä»¥æ·»åŠ åˆ‡æ¢æ˜¾ç¤ºå¸æœº/å›¢é˜Ÿç§¯åˆ†æ¦œçš„é€»è¾‘
                // å½“å‰åªåšäº†UIäº¤äº’ï¼Œæ²¡æœ‰å®é™…æ•°æ®åˆ‡æ¢
            });
        });
    </script>
</body>
</html> 